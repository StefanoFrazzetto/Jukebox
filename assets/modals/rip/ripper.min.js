$("#abort_process").on("click",function(){$("#ripper_status_message").html("Aborting...");stopTracker();openModalPage("assets/modals/rip/abort.php")});function stopTracker(){clearInterval(handleTracker)}
function tracker(){$.ajax({url:"assets/modals/rip/ajax_handler.php",cache:!1,success:function(a){a=$.parseJSON(a);var b=a.status,e=a.processed_tracks,d=a.cd_title,f=a.total_tracks,c=a.percentage;""!==d&&$(".modalHeader").html("Ripping your disc: "+d);"completing the process"==b&&($("#percentage").width("100%"),$("#percentage").html("100%"),$("#ripper_status").html("Almost ready"),$("#ripper_status_message").hide(),$(".progressBar").hide(),openModalPage("assets/modals/add_album_rip/2.fix_titles.php"),
stopTracker());100==c?($("#ripper_status").html("finalizing "+b),$("#percentage").width("99%"),$("#percentage").html("99%")):($("#percentage").width(c+"%"),$("#percentage").html(c+"%"),$("#ripper_status").html("Now "+b));$("#ripper_status_message").html("Tracks: "+e+" of "+f);console.log(a)}})}$(document).ready(function(){handleTracker=setInterval(tracker,1E4)});