$.ajaxSetup({cache:false});var selected_network=null;var modules_hash=[{dhcp_module:false,manual_settings:false,wifi_module:false,hotspot_module:false},{dhcp_module:true,manual_settings:true,wifi_module:false,hotspot_module:false},{dhcp_module:true,manual_settings:true,wifi_module:true,hotspot_module:false},{dhcp_module:false,manual_settings:false,wifi_module:false,hotspot_module:true}];function toggleManualField(){var dhcpenabled=$("#dhcp").prop("checked");if(dhcpenabled){$("#manual_settings").hide()}else{$("#manual_settings").show()}}$("#dhcp").change(function(){toggleManualField()});$("#network_type").change(function(){var val=parseInt($(this).val());if(val===2){startScan()}else{stopScan()}for(var key in modules_hash[val]){if(modules_hash[val][key]){$("#"+key).show()}else{$("#"+key).hide()}}if(val===2||val===1){toggleManualField()}});$.getJSON("assets/config/network_settings.json",function(data){$.each(data,function(key,value){if(value=="on"){$("#"+key).prop("checked",true)}else{$("#"+key).val(value);$("#"+key).trigger("change")}});if(val===2||val===1){toggleManualField()}});$("#network_settings_form").submit(function(e){e.preventDefault();var data=$(this).serialize();$.ajax({url:"assets/php/set_network_settings.php",method:"POST",data:data}).done(function(a,s,d){alert("Network settings saved successfully!")}).error(function(){alert("Something went wrong shile saving network settings.")})});$("#network_type").horizontalSelector();function openNetworkDetails(network){selected_network=network;$("#wifi_details").show(200);$("#wifiTable").hide(200);stopScan();$("#network_details_essid").text(selected_network["ESSID"]);if(typeof selected_network["encryption_type"]==="undefined"){selected_network["encryption_type"]="Open"}$("#network_details_security").text(selected_network["encryption_type"]);if(selected_network.saved){$("#network_details_password").hide();$("#network_details_forget").show()}else{$("#network_details_forget").hide();$("#network_details_password").show()}}function closeNetworkDetails(network){selected_network=null;$("#wifi_details").hide(200);$("#wifiTable").show(200);startScan()}$("#network_details_forget").click(function(){forgetNetwork(selected_network["ESSID"]);closeNetworkDetails()});