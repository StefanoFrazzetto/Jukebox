var $write;var $well=$("#keyboardWell");var keyboardShown=false;function simulateKeyPress(character){$.event.trigger({type:"keypress",which:13})}function bindForms(){$('input:not([type="submit"])').focus(function(){$well.clearQueue();var window_height=$(window).height();var window_width=$(window).width();$write=$(this);var topPosition=parseInt($write.offset().top)+parseInt($write.outerHeight())+2;if(topPosition+$well.outerHeight()>window_height){var topPositionAlternative=parseInt($write.offset().top-$well.outerHeight())-2;if(topPositionAlternative>0){topPosition=topPositionAlternative}}$well.show(0,function(){$well.css({position:"fixed"});$well.animate({left:(window_width-$well.outerWidth())/2,top:topPosition})})});$("input").blur(function(){$well.animate({top:"100%"});$well.hide(0)})}$(function(){var shift=false,capslock=false;$("#keyboardWell").drags();$("#keyboard li").click(function(event){var $this=$(this),character=$this.html();if($this.hasClass("left-shift")||$this.hasClass("right-shift")){$(".letter").toggleClass("uppercase");$(".symbol span").toggle();shift=shift===true?false:true;capslock=false;return false}if($this.hasClass("capslock")){$(".letter").toggleClass("uppercase");capslock=true;return false}if($this.hasClass("delete")){var html=$write.val();$write.val(html.substr(0,html.length-1));return false}if($this.hasClass("symbol"))character=$("span:visible",$this).html();if($this.hasClass("space"))character=" ";if($this.hasClass("tab"))character="\t";if($this.hasClass("return")){character="";var focused=document.activeElement;$(focused.form).submit();$(focused).blur()}if($this.hasClass("uppercase"))character=character.toUpperCase();if(shift===true){$(".symbol span").toggle();if(capslock===false)$(".letter").toggleClass("uppercase");shift=false}$write.val($write.val()+character);event.preventDefault();event.stopPropagation()}).on("mousedown",function(e){e.preventDefault();e.stopPropagation()});bindForms()});